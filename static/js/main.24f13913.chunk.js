(window["webpackJsonpcrud-react"]=window["webpackJsonpcrud-react"]||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(30),c=a.n(o),s=(a(39),a(33)),l=a(1),i=a(2),m=a(4),u=a(3),p=a(5),d=a(8),f=a(12),b=a(15),h=a.n(b),E=a(16),v=a.n(E),j=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row my-3 justify-content-between d-flex"},n.a.createElement("h2",{className:"col-md-9 text-center"},"Listado de Cosas por Hacer"),n.a.createElement("div",{className:"col-12 col-md-3 text-right"},n.a.createElement(d.b,{to:"/crear-tarea",className:"col-5 col-md-12 btn btn-success"},"Crear Tarea +"))))},N=function(){return n.a.createElement("div",{className:"row categoria"},n.a.createElement("p",{className:"col-2 text-center m-0"},"ID"),n.a.createElement("p",{className:"col-6 text-center m-0"},"Tarea por hacer"),n.a.createElement("p",{className:"col-4 text-center m-0"},"Opciones"))},O=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.post,a=t.titulo,r=t.contenido,o=t._id,c=this.props.id;return n.a.createElement("div",{className:"post justify-content-between d-flex mb-2 p-1"},n.a.createElement("p",{className:"col-2"},c+1),n.a.createElement("div",{className:"col-6 text-center"},n.a.createElement("h5",{className:""},a),n.a.createElement("p",{className:""},r)),n.a.createElement("div",{className:"col-4 text-center"},n.a.createElement(d.b,{to:"/ver-tarea",onClick:function(){return e.props.mostrarPost(o)},className:"mr-1 mb-1 btn btn-primary"},"Ver"),n.a.createElement(d.b,{to:"/editar-tarea",onClick:function(){return e.props.mostrarPost(o)},className:"mr-1 mb-1 btn btn-info"},"Editar"),n.a.createElement("button",{onClick:function(){return e.props.borrarPost(o)},className:"mr-1 mb-1 btn btn-danger"},"Borrar \xd7")))}}]),t}(r.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.posts;return n.a.createElement("div",{className:"col-12 p-4"},Object.keys(t).map(function(a,r){return n.a.createElement(O,{key:r,post:t[a],id:r,mostrarPost:e.props.mostrarPost,borrarPost:e.props.borrarPost})}))}}]),t}(r.Component),P=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(j,null),n.a.createElement(N,null),n.a.createElement(g,{posts:this.props.tareas,mostrarPost:this.props.mostrarPost,borrarPost:this.props.borrarPost}))}}]),t}(r.Component),y=function(){return n.a.createElement("div",{className:"col-12 my-3 p-1 verPost"},n.a.createElement("h2",{className:"text-center"},"Nueva tarea por realizar"))},k=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.verPost,t=e.titulo,a=e.contenido;return n.a.createElement("div",{className:"ver-post col-11 col-md-9 col-lg-7"},n.a.createElement("div",{className:"ver-titulo row mb-2"},n.a.createElement("h5",{className:"col-12 my-2"},t)),n.a.createElement("div",{className:"ver-contenido row mb-2"},n.a.createElement("p",{className:"col-10 p-3"},a)),n.a.createElement("div",{className:"row"},n.a.createElement(d.b,{to:"/",className:"btn btn-success"},"\u2190 Volver")))}}]),t}(r.Component),x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(y,null),n.a.createElement(k,{verPost:this.props.verPost}))}}]),t}(r.Component),w=function(){return n.a.createElement("div",{className:"col-12 my-3 p-1 verPost"},n.a.createElement("h2",{className:"text-center"},"Crear Nueva Tarea"))},T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tituloRef=n.a.createRef(),a.contenidoRef=n.a.createRef(),a.state={mensaje:""},a.crearTarea=function(e){e.preventDefault();var t={titulo:a.tituloRef.current.value,contenido:a.contenidoRef.current.value};if(""===t.titulo||""===t.contenido)return a.setState({mensaje:"Todos los campos son obligarios"}),void setTimeout(function(){a.setState({mensaje:""})},1500);a.props.crearPost(t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.crearTarea},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-9 form-group"},n.a.createElement("label",{className:"form-control-label"},"Titulo de la Tarea"),n.a.createElement("input",{type:"text",ref:this.tituloRef,className:"form-control form-control-success",name:"Titulo",placeholder:"Nombre de la tarea"})),n.a.createElement("div",{className:"col-11 col-md-8 col-lg-9 form-group"},n.a.createElement("label",{className:"form-control-label"},"Descripcion de la Tarea"),n.a.createElement("textarea",{ref:this.contenidoRef,className:"form-control form-control-danger",name:"nombre",placeholder:"Descripcion de la tarea"})),this.state.mensaje?n.a.createElement("div",{className:"col-11 form-group alert alert-danger text-center"},this.state.mensaje):"",n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9 form-group justify-content-between d-flex"},n.a.createElement(d.b,{to:"/",className:"btn btn-info "},"\u2190 Ver Tareas"),n.a.createElement("button",{type:"submit",className:"btn btn-success"},"Crear Tarea")))}}]),t}(r.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(w,null),n.a.createElement(T,{crearPost:this.props.crearPost}))}}]),t}(r.Component),R=function(){return n.a.createElement("div",{className:"col-12 my-3 p-1 verPost"},n.a.createElement("h2",{className:"text-center"},"Editar Tarea"))},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tituloRef=n.a.createRef(),a.contenidoRef=n.a.createRef(),a.state={mensaje:""},a.editarTarea=function(e){e.preventDefault();var t={titulo:a.tituloRef.current.value,contenido:a.contenidoRef.current.value};if(""===t.titulo||""===t.contenido)return a.setState({mensaje:"Todos los campos son obligarios"}),void setTimeout(function(){a.setState({mensaje:""})},1500);var r=a.props.verPost._id;a.props.editarPost(r,t)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.verPost,t=e.titulo,a=e.contenido;return n.a.createElement("form",{onSubmit:this.editarTarea},n.a.createElement("div",{className:"col-11 col-md-8 col-lg-9 form-group"},n.a.createElement("label",{className:"form-control-label"},"Titulo de la Tarea"),n.a.createElement("input",{type:"text",ref:this.tituloRef,className:"form-control form-control-success",defaultValue:t,name:"Titulo"})),n.a.createElement("div",{className:"col-11 col-md-8 col-lg-9 form-group"},n.a.createElement("label",{className:"form-control-label"},"Descripcion de la Tarea"),n.a.createElement("textarea",{ref:this.contenidoRef,className:"form-control form-control-danger",defaultValue:a,name:"nombre"})),this.state.mensaje?n.a.createElement("div",{className:"col-8 form-group alert alert-danger text-center"},this.state.mensaje):"",n.a.createElement("div",{className:"col-12 col-md-8 col-lg-9 form-group justify-content-between d-flex"},n.a.createElement(d.b,{to:"/",className:" btn btn-info "},"\u2190 Ver Tareas"),n.a.createElement("button",{type:"submit",className:"btn btn-success ml-1"},"Guardar cambios")))}}]),t}(r.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(R,null),n.a.createElement(S,{editarPost:this.props.editarPost,verPost:this.props.verPost}))}}]),t}(r.Component),D=function(){return n.a.createElement("footer",{className:"col-12 mt-4"},n.a.createElement("p",{className:"text-center m-0 p-1"},"\xa9 Derechos Reservados Autor Keyberth Rengel - CRUD de Tareas"))},V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={tareas:[],verPost:[]},a.obtenerPosts=function(){h.a.get("https://crud-node-tareas.herokuapp.com/posts").then(function(e){a.setState({tareas:e.data.posts})}).catch(function(e){console.log(e)})},a.crearPost=function(e){h.a.post("http://localhost:5500/post/create",e).then(function(e){console.log(e.data.ok),!0===e.data.ok&&(v.a.fire({position:"top-end",type:"success",title:"Se creo correctamente la tarea",showConfirmButton:!1,timer:1500}),a.setState({tareas:e.data.posts,ok:e.data.ok}))}).catch(function(e){console.log(e)})},a.editarPost=function(e,t){h.a.put("https://crud-node-tareas.herokuapp.com/post/update/".concat(e),t).then(function(e){!0===e.data.ok&&v.a.fire({position:"top-end",type:"success",title:"Se guardaron los cambios correctamente",showConfirmButton:!1,timer:1500})}).catch(function(e){console.log(e)})},a.borrarPost=function(e){v.a.fire({title:"Estas seguro?",text:"Esta acci\xf3n no se puede deshacer!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!",cancelButtonText:"Cancelar"}).then(function(t){t.value&&h.a.delete("https://crud-node-tareas.herokuapp.com/post/delete/".concat(e)).then(function(e){!0===e.data.ok&&v.a.fire("Eliminado!","El producto ha sido eliminado.","success")}).catch(function(e){console.log(e)})})},a.mostrarPost=function(e){var t=Object(s.a)(a.state.tareas).filter(function(t){return t._id===e});a.setState({verPost:t[0]}),localStorage.setItem("VerPost",JSON.stringify(t[0]))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("VerPost");e&&this.setState({verPost:JSON.parse(e)}),this.obtenerPosts()}},{key:"componentDidUpdate",value:function(){this.obtenerPosts()}},{key:"render",value:function(){var e=this;return n.a.createElement(d.a,null,n.a.createElement("div",{className:"container"},n.a.createElement(f.a,{to:"/"}),n.a.createElement(f.d,null,n.a.createElement(f.b,{exact:!0,path:"/",render:function(){return n.a.createElement(P,{tareas:e.state.tareas,mostrarPost:e.mostrarPost,borrarPost:e.borrarPost})}}),n.a.createElement(f.b,{exact:!0,path:"/ver-tarea",render:function(){return n.a.createElement(x,{verPost:e.state.verPost})}}),n.a.createElement(f.b,{exact:!0,path:"/crear-tarea",render:function(){return n.a.createElement(C,{crearPost:e.crearPost})}}),n.a.createElement(f.b,{exact:!0,path:"/editar-tarea",render:function(){return n.a.createElement(B,{editarPost:e.editarPost,verPost:e.state.verPost})}}))),n.a.createElement(D,null))}}]),t}(r.Component);var F=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(V,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.24f13913.chunk.js.map